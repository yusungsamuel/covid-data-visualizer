{"version":3,"sources":["component/navbar/index.js","utilities/API/index.js","utilities/function/index.js","component/forms/index.js","component/racingBar/index.js","component/pieChart/index.js","component/lineChart/index.js","component/legend/index.js","component/dataDisplay/index.js","component/choropleth/index.js","App.js","index.js"],"names":["NavBar","props","className","data-uk-navbar","children","NavItem","href","data-Index","dataIndex","onClick","handleClick","title","covidData","singleState","state","url","axios","allStateCurrent","parseDate","str","toString","split","splice","join","DropDown","onChange","submit","Option","value","option","toUpperCase","RacingBar","racingBarRef","useRef","names","Set","states","map","s","abbreviation","fetchData","a","promise","forEach","push","Promise","all","response","data","r","d","date","obj","name","d3","rank","bars","labels","textTween","axis","ticker","color","play","svg","duration","keyframes","keyframe","transition","ease","x","domain","updateAxis","updateBars","updateLabels","updateTicker","end","scale","some","undefined","category","categoryByName","Map","Array","from","values","get","now","append","style","barSize","attr","width","margin","top","n","text","formatDate","then","g","ticks","tickSizeOuter","tickSizeInner","y","padding","_","call","select","remove","selectAll","b","i","t","this","textContent","formatNumber","label","slice","enter","prev","bandwidth","update","exit","next","tween","bar","sort","length","Math","min","datevalues","d3Arr","Date","ka","kb","nameframes","flatMap","height","right","bottom","left","rangeRound","current","useEffect","sketch","ref","PieChart","LineChart","useState","setState","histoRef","Object","assign","positiveIncrease","nice","range","yAxis","clone","xAxis","line","defined","isNaN","datum","event","preventDefault","choice","target","legend","tickSize","marginTop","marginRight","marginBottom","marginLeft","tickFormat","tickValues","ramp","canvas","HTMLCanvasElement","context","getContext","fillStyle","fillRect","tickAdjust","interpolate","copy","toDataURL","interpolator","round","invertExtent","thresholds","quantiles","toPrecision","thresholdFormat","max","node","DataDisplay","TableRow","stat","possibleChoice","Choropleth","currentData","setCurrentData","setChoice","choroRef","set","stateConversion","positive","total","hospitalizedCurrently","death","format","path","topojson","us","objects","features","properties","c","key","App","activeIndex","setActiveIndex","e","index","dataset","console","log","navigation","parseInt","conditionalRender","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a55b90b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./style.scss\"\r\n\r\nexport const NavBar = (props) => {\r\n\r\n    return (\r\n        <nav className=\"navbar uk-navbar-transparent uk-navbar-container\" data-uk-navbar>\r\n            <div className=\"uk-navbar-center\">\r\n                <ul className=\"uk-navbar-nav\">\r\n                    {props.children}\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n};\r\n\r\nexport const NavItem = (props) => {\r\n    return (\r\n        <li className={props.className}><a className=\"uk-link-reset\" href=\"#\" data-Index={props.dataIndex} onClick={props.handleClick}>{props.title}</a></li>\r\n    )\r\n}","import axios from \"axios\";\n\nconst covidData = {\n    singleState: (state) =>{\n        let url = `https://api.covidtracking.com/api/v1/states/${state}/daily.json`\n        return axios({\n            \"method\": \"GET\",\n            \"url\": url\n        })\n\n    },\n    allStateCurrent: ()=>{\n        let url = \"https://api.covidtracking.com/api/v1/states/current.json\"\n        return axios({\n            \"method\": \"GET\",\n            \"url\": url\n        })\n    }\n};\n\nexport default covidData;\n","export const parseDate = (str) => {\r\n    str = str.toString()\r\n    str = str.split(\"\");\r\n    str.splice(4, 0, \"-\");\r\n    str.splice(7, 0, \"-\");\r\n    str = (str.join(\"\"));\r\n\r\n    return str\r\n}\r\n","import React from \"react\";\r\n\r\nexport function DropDown(props) {\r\n    return (\r\n        <form onChange={props.submit}>\r\n            <select>\r\n                {props.children}\r\n            </select>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport function Option (props) {\r\n    return (\r\n    <option value={props.option}>{props.option.toUpperCase()}</option>\r\n    )\r\n}","import React, { useEffect, useRef } from \"react\";\r\nimport covidData from \"../../utilities/API\";\r\nimport * as d3 from \"d3\";\r\nimport * as d3Arr from \"d3-array\";\r\nimport { parseDate } from \"../../utilities/function\"\r\nimport states from \"../../states.json\"\r\nimport { DropDown, Option } from \"../forms\"\r\nimport \"./style.scss\"\r\nconst RacingBar = () => {\r\n    const racingBarRef = useRef(null);\r\n\r\n    const names = new Set(states.map(s => s.abbreviation))\r\n\r\n    async function fetchData(option) {\r\n\r\n        let promise = []\r\n\r\n        states.forEach((s) => {\r\n            if(s !== \"ny\"){\r\n            promise.push(covidData.singleState(s.abbreviation))\r\n\r\n            } \r\n        })\r\n\r\n        let response = await Promise.all(promise)\r\n\r\n        let data = [];\r\n        response.forEach((r) => {\r\n            r.data.forEach((d) => {\r\n                if (d.date > 20200228 && d[\"positive\"]) {\r\n                    let obj = {}\r\n                    obj.date = parseDate(d.date);\r\n                    obj.name = d.state;\r\n                    obj.value = d[\"positive\"].toString()\r\n                    data.push(d3.autoType(obj))\r\n                }\r\n\r\n            })\r\n        })\r\n        return data\r\n    }\r\n\r\n    async function sketch() {\r\n        let data = await fetchData(\"positive\");\r\n        const datevalues = Array.from(d3Arr.rollup(data, ([d]) => d.value, d => +d.date, d => d.name))\r\n            .map(([date, data]) => [new Date(date), data])\r\n            .sort(([a], [b]) => d3.ascending(a, b))\r\n\r\n\r\n        let n = 12, k = 10;\r\n        function rank(value) {\r\n            const data = Array.from(names, name => ({ name, value: value(name.toUpperCase()) }));\r\n            data.sort((a, b) => d3.descending(a.value, b.value));\r\n            for (let i = 0; i < data.length; ++i) data[i].rank = Math.min(n, i);\r\n            return data;\r\n        }\r\n\r\n        //Keyframe to be modularize later\r\n        const keyframes = [];\r\n        let ka, a, kb, b;\r\n        for ([[ka, a], [kb, b]] of d3.pairs(datevalues)) {\r\n            for (let i = 0; i < k; ++i) {\r\n                const t = i / k;\r\n                keyframes.push([\r\n                    new Date(ka * (1 - t) + kb * t),\r\n                    rank(name => (a.get(name) || 0) * (1 - t) + (b.get(name) || 0) * t)\r\n                ]);\r\n            }\r\n        }\r\n        keyframes.push([new Date(kb), rank(name => b.get(name) || 0)]);\r\n\r\n\r\n        const nameframes = d3Arr.groups(keyframes.flatMap(([, data]) => data), d => d.name);\r\n        const prev = new Map(nameframes.flatMap(([, data]) => d3.pairs(data, (a, b) => [b, a])));\r\n        const next = new Map(nameframes.flatMap(([, data]) => d3.pairs(data)));\r\n\r\n        function bars(svg) {\r\n            let bar = svg.append(\"g\")\r\n                .attr(\"fill-opacity\", 0.6)\r\n                .selectAll(\"rect\");\r\n            return ([date, data], transition) => bar = bar\r\n                .data(data.slice(0, n), d => d.name)\r\n                .join(\r\n                    enter => enter.append(\"rect\")\r\n                        .attr(\"fill\", color())\r\n                        .attr(\"height\", y.bandwidth())\r\n                        .attr(\"x\", x(0))\r\n                        .attr(\"y\", d => y((prev.get(d) || d).rank))\r\n                        .attr(\"width\", d => x((prev.get(d) || d).value) - x(0)),\r\n                    update => update,\r\n                    exit => exit.transition(transition).remove()\r\n                        .attr(\"y\", d => y((next.get(d) || d).rank))\r\n                        .attr(\"width\", d => x((next.get(d) || d).value) - x(0))\r\n                )\r\n                .call(bar => bar.transition(transition)\r\n                    .attr(\"y\", d => y(d.rank))\r\n                    .attr(\"width\", d => x(d.value) - x(0)));\r\n        }\r\n\r\n\r\n        function labels(svg) {\r\n            let label = svg.append(\"g\")\r\n                .style(\"font\", \"bold 12px var(--sans-serif)\")\r\n                .style(\"font-variant-numeric\", \"tabular-nums\")\r\n                .style(\"text-transform\", \"uppercase\")\r\n                .attr(\"text-anchor\", \"end\")\r\n                .selectAll(\"text\");\r\n\r\n            return ([date, data], transition) => label = label\r\n                .data(data.slice(0, n), d => d.name)\r\n                .join(\r\n                    enter => enter.append(\"text\")\r\n                        .attr(\"transform\", d => `translate(${x((prev.get(d) || d).value)},${y((prev.get(d) || d).rank)})`)\r\n                        .attr(\"y\", y.bandwidth() / 2)\r\n                        .attr(\"x\", -6)\r\n                        .attr(\"dy\", \"-0.25em\")\r\n                        .text(d => d.name)\r\n                        .call(text => text.append(\"tspan\")\r\n                            .attr(\"fill-opacity\", 0.7)\r\n                            .attr(\"font-weight\", \"normal\")\r\n                            .attr(\"x\", -6)\r\n                            .attr(\"dy\", \"1.15em\")),\r\n                    update => update,\r\n                    exit => exit.transition(transition).remove()\r\n                        .attr(\"transform\", d => `translate(${x((next.get(d) || d).value)},${y((next.get(d) || d).rank)})`)\r\n                        .call(g => g.select(\"tspan\").tween(\"text\", d => textTween(d.value, (next.get(d) || d).value)))\r\n                )\r\n                .call(bar => bar.transition(transition)\r\n                    .attr(\"transform\", d => `translate(${x(d.value)},${y(d.rank)})`)\r\n                    .call(g => g.select(\"tspan\").tween(\"text\", d => textTween((prev.get(d) || d).value, d.value))));\r\n        }\r\n\r\n        const formatNumber = d3.format(\",d\");\r\n\r\n        function textTween(a, b) {\r\n            const i = d3.interpolateNumber(a, b);\r\n            return function (t) {\r\n                this.textContent = formatNumber(i(t));\r\n            };\r\n        }\r\n\r\n\r\n\r\n        const margin = ({ top: 16, right: 6, bottom: 6, left: 0 })\r\n        const barSize = 48;\r\n        const height = margin.top + barSize * n + margin.bottom;\r\n        const width = 2.5 * (height)\r\n\r\n        const x = d3.scaleLinear([0, 1], [margin.left, width - margin.right])\r\n        const y = d3.scaleBand()\r\n            .domain(d3.range(n + 1))\r\n            .rangeRound([margin.top, margin.top + barSize * (n + 1 + 0.1)])\r\n            .padding(0.1)\r\n\r\n\r\n        function axis(svg) {\r\n            const g = svg.append(\"g\")\r\n                .attr(\"transform\", `translate(0,${margin.top})`);\r\n\r\n            const axis = d3.axisTop(x)\r\n                .ticks(width / 160)\r\n                .tickSizeOuter(0)\r\n                .tickSizeInner(-barSize * (n + y.padding()));\r\n\r\n            return (_, transition) => {\r\n                g.transition(transition).call(axis);\r\n                g.select(\".tick:first-of-type text\").remove();\r\n                g.selectAll(\".tick:not(:first-of-type) line\").attr(\"stroke\", \"white\");\r\n                g.select(\".domain\").remove();\r\n            };\r\n        }\r\n\r\n        const formatDate = d3.utcFormat(\"%Y-%m-%d\")\r\n\r\n        function ticker(svg) {\r\n            const now = svg.append(\"text\")\r\n                .style(\"font\", `bold ${barSize}px var(--sans-serif)`)\r\n                .style(\"font-variant-numeric\", \"tabular-nums\")\r\n                .attr(\"text-anchor\", \"end\")\r\n                .attr(\"x\", width - 6)\r\n                .attr(\"y\", margin.top + barSize * (n - 0.45))\r\n                .attr(\"dy\", \"0.32em\")\r\n                .text(formatDate(keyframes[0][0]));\r\n\r\n            return ([date], transition) => {\r\n                transition.end().then(() => now.text(formatDate(date)));\r\n            };\r\n        }\r\n\r\n\r\n        //color code block\r\n\r\n        function color() {\r\n            const scale = d3.scaleOrdinal(d3.schemeTableau10);\r\n            if (data.some(d => d.category !== undefined)) {\r\n                const categoryByName = new Map(data.map(d => [d.name, d.category]))\r\n                scale.domain(Array.from(categoryByName.values()));\r\n                return d => scale(categoryByName.get(d.name));\r\n            }\r\n            return d => scale(d.name);\r\n        }\r\n        const svg = d3.select(racingBarRef.current)\r\n            .attr(\"viewBox\", [0, 0, width, height]);\r\n\r\n        svg.selectAll(\"*\").remove();\r\n\r\n        const updateBars = bars(svg);\r\n        const updateAxis = axis(svg);\r\n        const updateLabels = labels(svg);\r\n        const updateTicker = ticker(svg);\r\n\r\n\r\n        async function play(svg) {\r\n            const duration = 50\r\n\r\n            for (const keyframe of keyframes) {\r\n                const transition = svg.transition()\r\n                    .duration(duration)\r\n                    .ease(d3.easeLinear);\r\n\r\n                // Extract the top bar’s value.\r\n                x.domain([0, keyframe[1][0].value]);\r\n                updateAxis(keyframe, transition);\r\n                updateBars(keyframe, transition);\r\n                updateLabels(keyframe, transition);\r\n                updateTicker(keyframe, transition);\r\n                await transition.end();\r\n            }\r\n        }\r\n\r\n        play(svg);\r\n    }\r\n\r\n    useEffect(() => {\r\n        sketch();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"chart-container\">\r\n            <h1>Numbers of Positive Cases in the US</h1>\r\n            <svg className = \"canvas\" ref={racingBarRef}></svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RacingBar;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport covidData from \"../../utilities/API\";\r\n\r\n\r\n\r\nfunction PieChart() {\r\n    const svgRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            let response = await covidData.allStateCurrent()\r\n            let data = response.data\r\n            data = data.map((d) => {\r\n                return {\r\n                    \"name\": d.state,\r\n                    \"value\": d.positive\r\n                }\r\n\r\n            })\r\n\r\n\r\n            const pie = d3.pie()\r\n                .padAngle(0.005)\r\n                .sort(null)\r\n                .value(d => d.value)\r\n\r\n            const arcs = pie(data)\r\n            console.log(arcs)\r\n            \r\n            const width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            const height = Math.min(width, 1600);\r\n\r\n            const color = d3.scaleOrdinal()\r\n                .domain(data.map(d => d.name))\r\n                .range(d3.quantize(t => d3.interpolateSpectral(t * 0.8 + 0.1), data.length).reverse())\r\n\r\n            const radius = Math.min(width, height) / 2;\r\n            const arc = d3.arc().innerRadius(radius * 0.67).outerRadius(radius - 1);\r\n\r\n\r\n            const svg = d3.select(svgRef.current)\r\n                .attr(\"viewBox\", [-width / 2, -height / 2, width, height])\r\n\r\n\r\n\r\n\r\n            svg.selectAll(\"path\")\r\n                .data(arcs)\r\n                .join(\"path\")\r\n                    .attr(\"fill\", d => color(d.data.name))\r\n                    .attr(\"d\", arc)\r\n                    .append(\"title\")\r\n                        .text(d => `${d.data.name}: ${d.data.value.toLocaleString()}`);\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"font-family\", \"sans-serif\")\r\n                .attr(\"font-size\", 12)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .selectAll(\"text\")\r\n                .data(arcs)\r\n                .join(\"text\")\r\n                .attr(\"transform\", d => `translate(${arc.centroid(d)})`)\r\n                .call(text => text.append(\"tspan\")\r\n                    .attr(\"y\", \"-0.4em\")\r\n                    .attr(\"font-weight\", \"bold\")\r\n                    .text(d => d.data.name))\r\n                .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.25).append(\"tspan\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"y\", \"0.7em\")\r\n                    .attr(\"fill-opacity\", 0.7)\r\n                    .text(d => d.data.value.toLocaleString()));\r\n\r\n        }\r\n\r\n        fetchData();\r\n\r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <svg className=\"canvas\" ref={svgRef}></svg>\r\n    )\r\n}\r\n\r\nexport default PieChart;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport covidData from \"../../utilities/API\";\r\nimport * as d3 from \"d3\";\r\nimport { DropDown, Option } from \"../forms\";\r\nimport { parseDate } from \"../../utilities/function\"\r\nimport states from \"../../states.json\";\r\n\r\nconst LineChart = () => {\r\n    const [state, setState] = useState(\"al\")\r\n    const histoRef = useRef(null);\r\n    useEffect(() => {\r\n        const fetchData = async (state) => {\r\n            let data = (await covidData.singleState(state)).data\r\n            data = Object.assign(data.map((d) => {\r\n                return (\r\n                    d3.autoType({\r\n                        date: parseDate(d.date),\r\n                        value: d.positiveIncrease.toString()\r\n                    })\r\n                )\r\n            }), { y: \"Positive Increase\" })\r\n            return data\r\n        }\r\n        const sketch = async () => {\r\n            let data = await fetchData(state)\r\n            const height = 300;\r\n            const width = 3 * height\r\n            const margin = ({ top: 20, right: 30, bottom: 30, left: 40 });\r\n\r\n            const y = d3.scaleLinear()\r\n                .domain([0, d3.max(data, d => d.value)]).nice()\r\n                .range([height - margin.bottom, margin.top])\r\n\r\n            const yAxis = g => g\r\n                .attr(\"transform\", `translate(${margin.left},0)`)\r\n                .call(d3.axisLeft(y))\r\n                .call(g => g.select(\".domain\").remove())\r\n                .call(g => g.select(\".tick:last-of-type text\").clone()\r\n                    .attr(\"x\", 3)\r\n                    .attr(\"text-anchor\", \"start\")\r\n                    .attr(\"font-weight\", \"bold\")\r\n                    .text(data.y))\r\n\r\n            const x = d3.scaleUtc()\r\n                .domain(d3.extent(data, d => d.date))\r\n                .range([margin.left, width - margin.right])\r\n\r\n            const xAxis = g => g\r\n                .attr(\"transform\", `translate(0,${height - margin.bottom})`)\r\n                .call(d3.axisBottom(x).ticks(width / 100).tickSizeOuter(0))\r\n\r\n\r\n            const line = d3.line()\r\n                .defined(d => !isNaN(d.value))\r\n                .x(d => x(d.date))\r\n                .y(d => y(d.value))\r\n\r\n            const svg = d3.select(histoRef.current)\r\n                .attr(\"viewBox\", [0, 0, width, height]);\r\n\r\n            //clear canvas when re-rendering\r\n            svg.selectAll(\"*\").remove();\r\n\r\n            svg.append(\"g\")\r\n                .call(xAxis);\r\n\r\n            svg.append(\"g\")\r\n                .call(yAxis);\r\n\r\n            svg.append(\"path\")\r\n                .datum(data)\r\n                .attr(\"fill\", \"none\")\r\n                .attr(\"stroke\", \"navy\")\r\n                .attr(\"stroke-width\", 1.5)\r\n                .attr(\"stroke-linejoin\", \"round\")\r\n                .attr(\"stroke-linecap\", \"round\")\r\n                .attr(\"d\", line);\r\n        }\r\n        sketch()\r\n\r\n    },[state])\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        let choice = event.target.value\r\n        setState(choice)\r\n    }\r\n\r\n    return (\r\n\r\n        <div>\r\n            <DropDown\r\n                submit={handleSubmit}\r\n            >\r\n                {states.map((state) => {\r\n                    return (\r\n                        <Option\r\n                            option={state.abbreviation}\r\n                        ></Option>\r\n                    )\r\n                })}\r\n            </DropDown>\r\n            <svg ref={histoRef}></svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LineChart;","import * as d3 from \"d3\";\r\n\r\n\r\nexport default function legend({\r\n    color,\r\n    title,\r\n    tickSize = 6,\r\n    width = 320,\r\n    height = 44 + tickSize,\r\n    marginTop = 18,\r\n    marginRight = 0,\r\n    marginBottom = 16 + tickSize,\r\n    marginLeft = 0,\r\n    ticks = width / 64,\r\n    tickFormat,\r\n    tickValues\r\n} = {}) {\r\n\r\n    function ramp(color, n = 256) {\r\n        const canvas = HTMLCanvasElement`<canvas width=${n} height=1>`;\r\n        const context = canvas.getContext(\"2d\");\r\n        for (let i = 0; i < n; ++i) {\r\n            context.fillStyle = color(i / (n - 1));\r\n            context.fillRect(i, 0, 1, 1);\r\n        }\r\n        return canvas;\r\n    }\r\n\r\n    const svg = d3.create(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height)\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .style(\"overflow\", \"visible\")\r\n        .style(\"display\", \"block\");\r\n\r\n    let tickAdjust = g => g.selectAll(\".tick line\").attr(\"y1\", marginTop + marginBottom - height);\r\n    let x;\r\n\r\n    // Continuous\r\n    if (color.interpolate) {\r\n        const n = Math.min(color.domain().length, color.range().length);\r\n\r\n        x = color.copy().rangeRound(d3.quantize(d3.interpolate(marginLeft, width - marginRight), n));\r\n\r\n        svg.append(\"image\")\r\n            .attr(\"x\", marginLeft)\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", width - marginLeft - marginRight)\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"preserveAspectRatio\", \"none\")\r\n            .attr(\"xlink:href\", ramp(color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))).toDataURL());\r\n    }\r\n\r\n    // Sequential\r\n    else if (color.interpolator) {\r\n        x = Object.assign(color.copy()\r\n            .interpolator(d3.interpolateRound(marginLeft, width - marginRight)),\r\n            { range() { return [marginLeft, width - marginRight]; } });\r\n\r\n        svg.append(\"image\")\r\n            .attr(\"x\", marginLeft)\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", width - marginLeft - marginRight)\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"preserveAspectRatio\", \"none\")\r\n            .attr(\"xlink:href\", ramp(color.interpolator()).toDataURL());\r\n\r\n        // scaleSequentialQuantile doesn’t implement ticks or tickFormat.\r\n        if (!x.ticks) {\r\n            if (tickValues === undefined) {\r\n                const n = Math.round(ticks + 1);\r\n                tickValues = d3.range(n).map(i => d3.quantile(color.domain(), i / (n - 1)));\r\n            }\r\n            if (typeof tickFormat !== \"function\") {\r\n                tickFormat = d3.format(tickFormat === undefined ? \",f\" : tickFormat);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Threshold\r\n    else if (color.invertExtent) {\r\n        let thresholds\r\n            = color.thresholds ? color.thresholds() // scaleQuantize\r\n                : color.quantiles ? color.quantiles() // scaleQuantile\r\n                    : color.domain(); // scaleThreshold\r\n        thresholds = thresholds.map(t=>t.toPrecision(3))\r\n        const thresholdFormat\r\n            = tickFormat === undefined ? d => d\r\n                : typeof tickFormat === \"string\" ? d3.format(tickFormat)\r\n                    : tickFormat;\r\n\r\n        x = d3.scaleLinear()\r\n            .domain([-1, color.range().length - 1])\r\n            .rangeRound([marginLeft, width - marginRight]);\r\n\r\n        svg.append(\"g\")\r\n            .selectAll(\"rect\")\r\n            .data(color.range())\r\n            .join(\"rect\")\r\n            .attr(\"x\", (d, i) => x(i - 1))\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", (d, i) => x(i) - x(i - 1))\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"fill\", d => d);\r\n\r\n        tickValues = d3.range(thresholds.length);\r\n        tickFormat = i => thresholdFormat(thresholds[i], i);\r\n    }\r\n\r\n    // Ordinal\r\n    else {\r\n        x = d3.scaleBand()\r\n            .domain(color.domain())\r\n            .rangeRound([marginLeft, width - marginRight]);\r\n\r\n        svg.append(\"g\")\r\n            .selectAll(\"rect\")\r\n            .data(color.domain())\r\n            .join(\"rect\")\r\n            .attr(\"x\", x)\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", Math.max(0, x.bandwidth() - 1))\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"fill\", color);\r\n\r\n        tickAdjust = () => { };\r\n    }\r\n\r\n    svg.append(\"g\")\r\n        .attr(\"transform\", `translate(0,${height - marginBottom})`)\r\n        .call(d3.axisBottom(x)\r\n            .ticks(ticks, typeof tickFormat === \"string\" ? tickFormat : undefined)\r\n            .tickFormat(typeof tickFormat === \"function\" ? tickFormat : undefined)\r\n            .tickSize(tickSize)\r\n            .tickValues(tickValues))\r\n        .call(tickAdjust)\r\n        .call(g => g.select(\".domain\").remove())\r\n        .call(g => g.append(\"text\")\r\n            .attr(\"x\", marginLeft)\r\n            .attr(\"y\", marginTop + marginBottom - height - 6)\r\n            .attr(\"fill\", \"currentColor\")\r\n            .attr(\"text-anchor\", \"start\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .text(title));\r\n\r\n    return svg.node();\r\n}","import React from \"react\";\r\nimport \"./style.scss\"\r\n\r\nexport const DataDisplay = (props) => {\r\n    return (\r\n        <div className=\"table\">\r\n            <div className=\"header\">\r\n                <div className=\"column\">State</div>\r\n                <div className=\"column\">Numbers</div>\r\n            </div>\r\n            <div className=\"body\">\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const TableRow = (props) => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"column\">{props.name}</div>\r\n            <div className=\"column\">{props.stat}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport * as topojson from \"topojson-client\";\r\nimport us from \"../../states-albers-10m.json\"\r\nimport covidData from \"../../utilities/API\"\r\nimport legend from \"../legend\"\r\nimport { DataDisplay, TableRow } from \"../dataDisplay\"\r\nimport { DropDown, Option } from \"../forms\"\r\nimport stateConversion from \"../../state-conversion.json\"\r\nimport \"./style.scss\"\r\n\r\nconst possibleChoice = [\"Percent Positive\", \"Hospitalized Currently\", \"Death\"]\r\n\r\nconst Choropleth = () => {\r\n    const [currentData, setCurrentData] = useState(null);\r\n    const [choice, setChoice] = useState(\"Percent Positive\")\r\n    const choroRef = useRef(null);\r\n\r\n    const fetchData = async () => {\r\n        const response = (await covidData.allStateCurrent()).data\r\n        setCurrentData(response)\r\n        const data = new Map();\r\n        response.forEach((r) => {\r\n            switch (choice) {\r\n                case \"Percent Positive\":\r\n                    data.set(stateConversion[r.state], ((r.positive / r.total) * 100).toPrecision(4));\r\n                case \"Hospitalized Currently\":\r\n                    data.set(stateConversion[r.state], (r.hospitalizedCurrently / 100).toPrecision(2));\r\n                case \"Death\":\r\n                    data.set(stateConversion[r.state], (r.death / 100).toPrecision(2));\r\n                default:\r\n                    data.set(stateConversion[r.state], ((r.positive / r.total) * 100).toPrecision(4));\r\n            }\r\n\r\n        })\r\n        return data\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        async function sketch() {\r\n            const data = await fetchData()\r\n            // console.log(data)\r\n            const format = d => `${d}%`\r\n            const path = d3.geoPath();\r\n            const color = d3.scaleQuantize([0, 20], d3.schemeBlues[9])\r\n\r\n            const svg = d3.select(choroRef.current)\r\n                .attr(\"viewBox\", [0, 0, 975, 610]);\r\n\r\n            svg.selectAll(\"*\").remove();\r\n\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"transform\", \"translate(610,20)\")\r\n                .append(() => legend({ color, title: data.title, width: 260 }));\r\n\r\n            svg.append(\"g\")\r\n                .selectAll(\"path\")\r\n                .data(topojson.feature(us, us.objects.states).features)\r\n                .join(\"path\")\r\n                .attr(\"fill\", d => color(data.get(d.properties.name)))\r\n                .attr(\"d\", path)\r\n                .append(\"title\")\r\n                .text(d => `${d.properties.name}\r\n${format(data.get(d.properties.name))}`);\r\n\r\n            //white borderlines\r\n            svg.append(\"path\")\r\n                .datum(topojson.mesh(us, us.objects.states, (a, b) => a !== b))\r\n                .attr(\"fill\", \"none\")\r\n                .attr(\"stroke\", \"white\")\r\n                .attr(\"stroke-linejoin\", \"round\")\r\n                .attr(\"d\", path);\r\n\r\n        }\r\n        sketch()\r\n    }, [choice])\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        let choice = event.target.value\r\n        setChoice(choice)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"current-data\">\r\n            <DropDown\r\n                submit={handleSubmit}\r\n            >\r\n                {possibleChoice.map((c, i) => {\r\n                    return (\r\n                        <Option\r\n                            key={i}\r\n                            option={c}\r\n                        ></Option>\r\n                    )\r\n                })}\r\n            </DropDown>\r\n            <DataDisplay>\r\n                {currentData ? currentData.map((c) => {\r\n                    return (\r\n                        <TableRow\r\n                            name={c.state}\r\n                            stat={((c.positive / c.total) * 100).toPrecision(4) + \"%\"}\r\n                        ></TableRow>\r\n\r\n                    )\r\n                }) : <div></div>}\r\n            </DataDisplay>\r\n            <svg className=\"choro\" ref={choroRef}></svg>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Choropleth;","import React, { useEffect, useState, useRef } from 'react';\nimport './App.css';\nimport { NavBar, NavItem } from \"./component/navbar\"\nimport RacingBar from \"./component/racingBar\";\nimport PieChart from \"./component/pieChart\";\nimport LineChart from \"./component/lineChart\"\nimport Choropleth from \"./component/choropleth\"\nimport DataDisplay from \"./component/dataDisplay\"\nimport { active } from 'd3';\n\n\nfunction App() {\n  const navigations = [\"Current Status\", \"Cumulative Counts\", \"Racing Bar Chart\"];\n  const [activeIndex, setActiveIndex] = useState(\"0\");\n  const arr = [Choropleth, LineChart, RacingBar]\n  const handleClick = (e) => {\n    e.preventDefault();\n    const index = e.target.dataset.index\n    setActiveIndex(index)\n    console.log(typeof activeIndex)\n  }\n\n  const conditionalRender = (index) => {\n    switch (index) {\n      case (\"0\"):\n        return (\n            <Choropleth></Choropleth>\n        )\n      case (\"1\"):\n        return (<LineChart></LineChart>)\n      case (\"2\"):\n        return (<RacingBar></RacingBar>)\n      default:\n        return (<Choropleth></Choropleth>)\n    }\n\n  }\n\n  return (\n    <div className=\"App\">\n\n      <NavBar>\n        {navigations.map((navigation, i) => {\n          const className = i === parseInt(activeIndex) ? \"navButton-active\" : \"navButton\"\n          return (\n            <NavItem\n              key={i}\n              dataIndex={i}\n              title={navigation}\n              handleClick={handleClick}\n              className={className}\n            ></NavItem>\n          )\n        })}\n      </NavBar>\n      <div className=\"view-box\">\n\n        {conditionalRender(activeIndex)}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}